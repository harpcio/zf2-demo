<?php
/**
 * @var $book Library\Entity\BookEntity
 */
?>
<h3>Index of books</h3>
<hr/>
<p>
    <a href="<?= $this->url('library/book/create'); ?>" class="btn btn-primary" role="button">Create new book</a>
</p>
<hr/>
<table class="table table-striped">
    <thead>
    <tr>
        <th>Id</th>
        <th>Title</th>
        <th>ISBN</th>
        <th>Publisher</th>
        <th>Year</th>
        <th>Price</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <?php if ($this->books): ?>
        <?php foreach ($this->books as $book): ?>
            <tr>
                <td>
                    <?= $this->escapeHtml($book->getId()); ?>
                </td>
                <td>
                    <a href="<?= $this->url('library/book/read', ['id' => $book->getId()]); ?>" title="Read about the book">
                        <?= $this->escapeHtml($book->getTitle()); ?>
                    </a>
                </td>
                <td>
                    <?= $this->escapeHtml($book->getIsbn()); ?>
                </td>
                <td>
                    <?= $this->escapeHtml($book->getPublisher()); ?>
                </td>
                <td>
                    <?= $this->escapeHtml($book->getYear()); ?>
                </td>
                <td>
                    <?= $this->escapeHtml($book->getPrice()); ?>
                </td>
                <td>
                    <div class="btn-group">
                        <button type="button" class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown">
                            Actions <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="<?= $this->url('library/book/update', ['id' => $book->getId()]); ?>">Update</a></li>
                            <li><a href="<?= $this->url('library/book/delete', ['id' => $book->getId()]); ?>">Delete</a></li>
                        </ul>
                    </div>
                </td>
            </tr>
        <?php endforeach; ?>
    <?php else: ?>
        <tr>
            <td colspan="7">
                <h5>There are no books!</h5>
            </td>
        </tr>
    <?php endif; ?>
    </tbody>
</table>
